
function mypwd() {
   local dirname=${PWD%/*}
   if (( $(wc -c <<< $dirname) < 20 )); then echo $dirname; else echo ${dirname: -20}; fi
}
export EHPWD=
export EHDB=${SVDHOME-$HOME}/.eternal_history
export PROMPT_COMMAND='h=$(history 1 | cut -c 8-); if [[ $EHPWD != $PWD ]]; then echo "-- $$ $PWD" >> $EHDB; EHPWD=$PWD; fi; (( ${#h} > 2 )) && echo "$$ $h" >> $EHDB'
export PS1='${host:-ðŸŒ¿} \[\033[1m\]â–µ\[\033[0m\] $(mypwd) \[\033[1m\]â–µ\[\033[0m\] \W$(__git_ps1 "(%s)") \[\033[1m\]â–µ\[\033[0m\] $(amibm) \[\033[1m\]â–·\[\033[0m\]  '
GIT_PS1_SHOWDIRTYSTATE=8


